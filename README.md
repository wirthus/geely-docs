# Инструкция по открытию ADB на Geely Cityray

**Внимание! Все действия, описанные в данной инструкции, вы выполняете на свой страх и риск. Автор инструкции не несет ответственности за возможные негативные последствия.**

## Что потребуется

1. **Ноутбук с WiFi 5GHz** - обязательно поддержка именно 5GHz диапазона
2. **Telnet клиент**:
   - Встроенный Windows Telnet (я буду использовать его в примерах)
   - Любой другой Telnet клиент (например, PuTTY или MobaXterm)

### Как включить встроенный Telnet в Windows:
1. Откройте **Панель управления**
2. Перейдите в **Программы и компоненты**
3. Нажмите **Включение и отключение компонентов Windows**
4. Поставьте галочку напротив **Telnet client**
5. Нажмите **ОК** и дождитесь установки

## Пошаговое подключение

### Шаг 1: Настройка WiFi-соединения
1. **На головном устройстве (ГУ)**: включите точку доступа WiFi
2. **На ноутбуке**: подключитесь к созданной точке доступа

### Шаг 2: Подключение через Telnet

<details>
<summary><strong>Для Windows</strong></summary>

1. **На ноутбуке**: откройте Командную строку (cmd), PowerShell или Terminal
2. Попробуйте подключиться напрямую, выполнив команду:
```
telnet android.local
```

**Если подключение успешно**, вы увидите командную строку вида:
```
:/ #
```
Это означает, что вы подключились к ГУ и можете переходить к следующему шагу.

**Если подключение не удалось**, выполните следующие действия:

3. Получите IPv6-адрес устройства:
```
ping -6 android.local
```
4. Скопируйте полученный IPv6-адрес (формат: `2001:db8:85a3::8a2e:370:7334`) из вывода команды
5. Подключитесь через Telnet, используя полученный адрес:
```
telnet [скопированный_IPv6_адрес]
```

**При успешном подключении** вы увидите командную строку:
```
:/ #
```

</details>

<details>
<summary><strong>Для Linux (на примере Ubuntu 22)</strong></summary>

1. **Попробуйте подключиться напрямую:**
```
telnet android.local
```

**Если подключение успешно**, вы увидите командную строку вида:
```
:/ #
```
Это означает, что вы подключились к ГУ и можете переходить к следующему шагу.

**Если подключение не удалось**, выполните следующие действия:

2. Выполните команду:
```
ifconfig
```
3. Запомните имя интерфейса и IPv6-адрес, чтобы отличить адрес вашего ПК от адреса ГУ
4. Введите команду:
```
ping -I [имя_интерфейса] ff02::1
```
5. Из полученных двух адресов один будет адресом вашего ПК (запомненный в п.3), а другой - адресом ГУ. Скопируйте адрес ГУ (формат: `2001:db8:85a3::8a2e:370:7334`)
6. Подключитесь через Telnet, используя полученный адрес:
```
telnet [скопированный_IPv6_адрес]
```

**При успешном подключении** вы увидите командную строку:
```
:/ #
```

</details>

### Шаг 3: Включение видимости переключателя ADB
1. В открытом Telnet-соединении выполните команду:
```
setprop persist.service.adb.button.visible ON
```
Эта команда сделает переключатель ADB видимым в инженерном меню ГУ.

### Шаг 4: Включение ADB в интерфейсе ГУ
1. **На ГУ**: откройте приложение **"Телефон"**
2. Введите специальный код:
```
#*32279
```
3. Откроется **Инженерное меню**
4. Перейдите на вкладку **"Настройка"**
5. Найдите пункт **"Режим ADB"** и активируйте его

## Готово!
После выполнения всех шагов ADB-служба будет доступна через USB-порт и готова к использованию.

## Благодарности
- [@ser_s77](https://t.me/ser_s77) за обнаружение открытого Telnet-порта
- [@guiver67](https://t.me/guiver67), [@DimasRulev](https://t.me/DimasRulev) за помощь и передачу накопленного опыта с других машин
- [@KOTvZephire](https://t.me/KOTvZephire) за дополнения по Linux.
